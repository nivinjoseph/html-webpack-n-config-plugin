{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;AAAA,0DAAiD;AACjD,8BAA4B;AAG5B,MAAa,wBAAwB;IAKjC,YAAmB,MAAc;QAE7B,mBAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAC1B,CAAC;IAGM,KAAK,CAAC,QAAsB;QAE/B,mBAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAE9D,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,0BAA0B,EAAE,CAAC,WAAgB,EAAE,EAAE;YAE5E,WAAW,CAAC,KAAK,CAAC,oCAAoC,CAAC,QAAQ,CAC3D,0BAA0B,EAC1B,CAAC,IAAS,EAAE,EAAO,EAAE,EAAE;gBAEnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAClC;;;uDAG+B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC;;6BAE3F,CAAC,CAAC;gBAEX,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACnB,CAAC,CACJ,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAnCD,4DAmCC","sourcesContent":["import { given } from \"@nivinjoseph/n-defensive\";\nimport \"@nivinjoseph/n-ext\";\n\n\nexport class HtmlWebpackNConfigPlugin\n{\n    private readonly _config: object;\n\n\n    public constructor(config: object)\n    {\n        given(config, \"config\").ensureHasValue().ensureIsObject();\n        this._config = config;\n    }\n\n\n    public apply(compiler: object | any): void\n    {\n        given(compiler, \"compiler\").ensureHasValue().ensureIsObject();\n        \n        compiler.hooks.compilation.tap(\"HtmlWebpackNConfigPlugin\", (compilation: any) =>\n        {\n            compilation.hooks.htmlWebpackPluginAfterHtmlProcessing.tapAsync(\n                \"HtmlWebpackNConfigPlugin\",\n                (data: any, cb: any) =>\n                {\n                    data.html = data.html.replace(\"<body>\",\n                        `\n                                <body>\n                                <script>\n                                    window.config = \"${Buffer.from(JSON.stringify(this._config), \"utf8\").toString(\"hex\")}\";\n                                </script>\n                            `);\n\n                    cb(null, data);\n                }\n            );\n        });\n    }\n}"]}